(()=>{"use strict";const e={PLF:54.28,"Program Coordinator":38.82,"Director of Evaluation":62.08},t={"Traditional Comprehensive School Partnership (TCSP)":[{component:"Yearly launch workshop",description:"1 day, 6 hours delivery + 2 hours set-up/tear down\n(Delivery = 6 hours, Prep = 24 hours (6 x 4) - Prep ratio of 4/1, Set-up/Tear Down = 2 hours, Total = 32 hours)",multiplier:1,hours:{PLF:32,"Program Coordinator":0,"Director of Evaluation":0}},{component:"1:1 Coaching",description:"15 teachers, 8 sessions per teacher (15 x 8 = 120)\n(Prep ratio of 1.5/1)",multiplier:120,hours:{PLF:2.5,"Program Coordinator":0,"Director of Evaluation":0}},{component:"Deep Dives",description:"90 min delivery, In-person aligned with existing coaching schedule OR virtual, 2 sessions included yearly (x2)\n(Delivery = 1.5 hours, Prep = 6 hours (1.5 x 4) - Prep ratio of 4/1, Total = 7.5 hours)",multiplier:2,hours:{PLF:7.5,"Program Coordinator":0,"Director of Evaluation":0}},{component:"MOY Evaluation",description:"Survey data aggregation and top sheet creation, Once yearly",multiplier:1,hours:{PLF:2,"Program Coordinator":0,"Director of Evaluation":20},evaluation:!0},{component:"EOY Evaluation",description:"Survey data aggregation and top sheet creation, Once yearly",multiplier:1,hours:{PLF:2,"Program Coordinator":0,"Director of Evaluation":20},evaluation:!0},{component:"Quarterly Admin Meetings",description:"1 hour per quarter (1 x 4 = 4)\n(Prep for admin meetings included in coaching prep)",multiplier:4,hours:{PLF:2.5,"Program Coordinator":0,"Director of Evaluation":0}},{component:"Travel - Low",description:"Estimated travel time 30 min to 2 hours each way\n(Assumes all in-person delivery: 1 launch workshop + 8 Coaching Sessions = 9 trips)",multiplier:9,hours:{PLF:3,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0},{component:"Travel - Mid",description:"Estimated travel time 2 to 6 hours each way",multiplier:9,hours:{PLF:8,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0},{component:"Travel - High",description:"Estimated travel time 6 to 10 hours each way",multiplier:9,hours:{PLF:16,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0}],"Professional Learning Community Comprehensive School Partnership (PLC CSP)":[{component:"Yearly launch workshop",description:"1 day, 6 hours delivery + 2 hours set-up/tear down\n(Delivery = 6 hours, Prep = 24 hours (6 x 4) - Prep ratio of 4/1, Set-up/Tear Down = 2 hours, Total = 32 hours)",multiplier:1,hours:{PLF:32,"Program Coordinator":0,"Director of Evaluation":0}},{component:"PLC sessions",description:"6 sessions per year, 90 minute sessions, Up to 20 participants\n(Delivery 1.5 hours, Prep 6 hours (1.5 x 4) - Prep ratio of 4/1, Total = 7.5 hours)",multiplier:6,hours:{PLF:7.5,"Program Coordinator":0,"Director of Evaluation":0}},{component:"MOY Evaluation",description:"Survey data aggregation and top sheet creation, Once yearly",multiplier:1,hours:{PLF:2,"Program Coordinator":0,"Director of Evaluation":20},evaluation:!0},{component:"EOY Evaluation",description:"Survey data aggregation and top sheet creation, Once yearly",multiplier:1,hours:{PLF:2,"Program Coordinator":0,"Director of Evaluation":20},evaluation:!0},{component:"Quarterly Admin Meetings",description:"1 hour per quarter (1 x 4 = 4)\n(Prep for admin meetings included in PLC prep)",multiplier:4,hours:{PLF:2.5,"Program Coordinator":0,"Director of Evaluation":0}},{component:"Travel - Low",description:"Estimated travel time 30 min to 2 hours each way\n(Assumes all in-person delivery: 1 launch workshop + 6 PLC Sessions = 7 trips)",multiplier:7,hours:{PLF:3,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0},{component:"Travel - Mid",description:"Estimated travel time 2 to 6 hours each way",multiplier:7,hours:{PLF:8,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0},{component:"Travel - High",description:"Estimated travel time 6 to 10 hours each way",multiplier:7,hours:{PLF:16,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0}],"Virtual CSP":[{component:"Yearly launch workshop",description:"1 day, 6 hours delivery + 2 hours set-up/tear down\n(Delivery = 6 hours, Prep = 24 hours (6 x 4) - Prep ratio 4/1, Set-up/Tear Down = 2 hours, Total = 32 hours)",multiplier:1,hours:{PLF:32,"Program Coordinator":0,"Director of Evaluation":0}},{component:"1:1 Coaching",description:"15 teachers, 8 sessions per teacher (15 x 8 = 120)",multiplier:120,hours:{PLF:2.5,"Program Coordinator":0,"Director of Evaluation":0}},{component:"Deep Dives",description:"90 min delivery, In-person aligned with existing coaching schedule OR virtual, 2 sessions included yearly (x2)\n(Delivery = 1.5 hours, Prep = 6 hours (1.5 x 4) - Prep ratio 4/1, Total = 7.5 hours)",multiplier:2,hours:{PLF:7.5,"Program Coordinator":0,"Director of Evaluation":0}},{component:"MOY Evaluation",description:"Survey data aggregation and top sheet creation, Once yearly",multiplier:1,hours:{PLF:2,"Program Coordinator":0,"Director of Evaluation":20},evaluation:!0},{component:"EOY Evaluation",description:"Survey data aggregation and top sheet creation, Once yearly",multiplier:1,hours:{PLF:2,"Program Coordinator":0,"Director of Evaluation":20},evaluation:!0},{component:"Quarterly Admin Meetings",description:"1 hour per quarter (1 x 4 = 4)\n(Prep for admin meetings included in coaching prep)",multiplier:4,hours:{PLF:2.5,"Program Coordinator":0,"Director of Evaluation":0}},{component:"Travel - Low",description:"Estimated travel time 30 min to 2 hours each way\n(Assumes in-person delivery of 1 launch workshop, all other components virtual)",multiplier:1,hours:{PLF:3,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0},{component:"Travel - Mid",description:"Estimated travel time 2 to 6 hours each way",multiplier:1,hours:{PLF:8,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0},{component:"Travel - High",description:"Estimated travel time 6 to 10 hours each way",multiplier:1,hours:{PLF:16,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0}],"Changemaker Hub (CMH)":[{component:"CMH Delivery",description:"1 day - 6 to 7 hours of delivery + 2 hours set-up/tear down\n(Delivery = 6 hours, Prep = 24 hours (6 x 4) - Prep ratio 4/1, Set-up/Tear Down = 2 hours, Total = 32 hours per PLF. MINIMUM 2 PLFs Required = 64 hours)",multiplier:1,hours:{PLF:64,"Program Coordinator":8,"Director of Evaluation":0}},{component:"CMH Prep and Logistic Coordination",description:"Up to 6 1-hour meetings with clients, Eventbrite coordination and monitoring, Travel coordination, Event Logistics (Meal prep and Facilities location/rental not included)",multiplier:1,hours:{PLF:0,"Program Coordinator":38,"Director of Evaluation":0}},{component:"Evaluation",description:"Survey data aggregation and top sheet creation",multiplier:1,hours:{PLF:0,"Program Coordinator":0,"Director of Evaluation":10},evaluation:!0},{component:"Travel - Low",description:"Estimated travel time 30 min to 2 hours each way\n(Assumes in-person delivery of 1 Changemaker Hub with 3 staff members)",multiplier:3,hours:{PLF:3,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0},{component:"Travel - Mid",description:"Estimated travel time 2 to 6 hours each way",multiplier:3,hours:{PLF:8,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0},{component:"Travel - High",description:"Estimated travel time 6 to 10 hours each way",multiplier:3,hours:{PLF:16,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0}],"2 day Leadership Cohort":[{component:"Workshop Delivery",description:"2 consecutive days, 12 hours delivery + 2 hours set-up/tear down per day (4 hours total)\n(Delivery = 12 hours, Prep = 48 hours (12 x 4) - Prep ratio 4/1, Set-up/Tear Down = 4 hours, Total = 64 hours)",multiplier:1,hours:{PLF:64,"Program Coordinator":0,"Director of Evaluation":0}},{component:"Evaluation",description:"Survey aggregation and data topsheet creation",multiplier:1,hours:{PLF:0,"Program Coordinator":0,"Director of Evaluation":15},evaluation:!0},{component:"Travel - Low",description:"Estimated travel time 30 min to 2 hours each way\n(Assumes in-person delivery of 1 2 consecutive day launch workshop)",multiplier:1,hours:{PLF:3,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0},{component:"Travel - Mid",description:"Estimated travel time 2 to 6 hours each way",multiplier:1,hours:{PLF:8,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0},{component:"Travel - High",description:"Estimated travel time 6 to 10 hours each way",multiplier:1,hours:{PLF:16,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0}],"3 day Leadership Cohort":[{component:"Workshop Delivery",description:"3 consecutive days, 18 hours delivery + 2 hours set-up/tear down per day (6 hours total)\n(Delivery = 18 hours, Prep = 72 hours (18 x 4) - Prep ratio 4/1, Set-up/Tear Down = 6 hours, Total = 96 hours)",multiplier:1,hours:{PLF:64,"Program Coordinator":0,"Director of Evaluation":0}},{component:"Evaluation",description:"Survey aggregation and data topsheet creation",multiplier:1,hours:{PLF:0,"Program Coordinator":0,"Director of Evaluation":15},evaluation:!0},{component:"Travel - Low",description:"Estimated travel time 30 min to 2 hours each way\n(Assumes in-person delivery of 3 non-consecutive sessions, requiring 3 overnight trips)",multiplier:3,hours:{PLF:3,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0},{component:"Travel - Mid",description:"Estimated travel time 2 to 6 hours each way",multiplier:3,hours:{PLF:8,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0},{component:"Travel - High",description:"Estimated travel time 6 to 10 hours each way",multiplier:3,hours:{PLF:16,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0}],"LCE (Virtually Delivered)":[{component:"Launch Workshop",description:"2 hours (Delivery 2 hours Prep =8 hours (2x4) Prep ratio 4/1 Total = 10 hours)",multiplier:1,hours:{PLF:10}},{component:"Design Sprint Sessions",description:"6 sessions per year, 2 hours, 4-5 participants per group (single group is standard)\n(Delivery 1.5 hours, Prep 6 hours (1.5 x 4) - Prep ratio 4/1, Total = 7.5 hours)",multiplier:6,hours:{PLF:7.5,"Program Coordinator":0,"Director of Evaluation":0}},{component:"Evaluation",description:"Survey aggregation and data topsheet creation",multiplier:1,hours:{PLF:0,"Program Coordinator":0,"Director of Evaluation":20},evaluation:!0},{component:"Optional 1:1 or small group Coaching",description:"Added in 4 hour blocks, one hour between each session",multiplier:4,hours:{PLF:2.5,"Program Coordinator":0,"Director of Evaluation":0}},{component:"Travel - Low",description:"Estimated travel time 30 min to 2 hours each way\n(Assumes in-person event for 1 night)",multiplier:1,hours:{PLF:3,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0},{component:"Travel - Mid",description:"Estimated travel time 2 to 6 hours each way",multiplier:1,hours:{PLF:8,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0},{component:"Travel - High",description:"Estimated travel time 6 to 10 hours each way",multiplier:1,hours:{PLF:16,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0}],"Readiness Assessment":[{component:"Instrument Design and Implementation",description:"Survey Design/Revision (16 hours), Survey Administration - Educators, Students, and Community/Caregivers (8 hours), Focus Group Design and Revision (8 hours), Focus Group Admin (8 hours)\n*If FG's take more than 8 hours, we charge in 4 hour increments @ $165/hr\nFocus Groups should be facilitated virtually. Each participant should have their own device.",multiplier:1,hours:{PLF:0,"Program Coordinator":0,"Director of Evaluation":40}},{component:"Onsite Observations and Analysis",description:"Based on 15 teacher sample size, Observation and analysis of current teacher practice on WS yearly rubrics (estimated at 45 min per teacher, with a cap of 8 teacher/day/PLF. 15x45 min= 11.25 hours), Review of curricular and planning documents (estimated at 45 min per teacher x 15 teachers = 11.25 hours), Prep and analysis at 1.5/1 ratio (22.5x1.5 = 33.75 hours), Total = 56.25, rounded down to 56",multiplier:1,hours:{PLF:56,"Program Coordinator":0,"Director of Evaluation":0}},{component:"Analysis and report creation",description:"Survey, focus group, and teacher observation data aggregated and report creation = 40 hours",multiplier:1,hours:{PLF:0,"Program Coordinator":0,"Director of Evaluation":40}},{component:"Travel - Low",description:"Estimated travel time 30 min to 2 hours each way\n(Assumes in-person delivery of teacher observations for up to 15 teachers. Standard package assumes 2 nights and 3 days travel)",multiplier:1,hours:{PLF:3,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0},{component:"Travel - Mid",description:"Estimated travel time 2 to 6 hours each way",multiplier:1,hours:{PLF:8,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0},{component:"Travel - High",description:"Estimated travel time 6 to 10 hours each way",multiplier:1,hours:{PLF:16,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0}],"Capstone Course Creation":[{component:"1:1 Coaching/Course Creation Consultation",description:"1 teacher or up to a group of 4 (i.e. grade-level team, department, etc), 40 hours of consultation/coaching\n(Prep ratio of 1.5/1)",multiplier:40,hours:{PLF:2.5,"Program Coordinator":0,"Director of Evaluation":0}}],"Critical Conversation":[{component:"Event Facilitation",description:"3 hours of delivery, Prep ratio of 1.5/1 --\x3e 3x1.5 = 4.5",multiplier:1,hours:{PLF:7.5,"Program Coordinator":0,"Director of Evaluation":0}},{component:"Internal Meetings",description:"Coordination, logistics, etc.",multiplier:1,hours:{PLF:2,"Program Coordinator":0,"Director of Evaluation":0}},{component:"Travel - Low",description:"Estimated travel time 30 min to 2 hours each way\n(Assumes in-person event for 1 night)",multiplier:1,hours:{PLF:3,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0},{component:"Travel - Mid",description:"Estimated travel time 2 to 6 hours each way",multiplier:1,hours:{PLF:8,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0},{component:"Travel - High",description:"Estimated travel time 6 to 10 hours each way",multiplier:1,hours:{PLF:16,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0}],"Stand Alone Pricing":[{component:"Coaching/Consultation",description:"1 hour of delivery with 1.5 hours of prep",multiplier:1,hours:{PLF:2.5,"Program Coordinator":0,"Director of Evaluation":0}},{component:"PLC facilitation",description:"1.5 hours of delivery with 6 hours of prep",multiplier:1,hours:{PLF:7.5,"Program Coordinator":0,"Director of Evaluation":0}},{component:"1 day workshop",description:"1 day, 6 hours delivery + 2 hours set-up/tear down\n(Delivery = 6 hours, Prep = 24 hours (6 x 4) - Prep ratio 4/1, Set-up/Tear Down = 2 hours, Total = 32 hours)",multiplier:1,hours:{PLF:32,"Program Coordinator":0,"Director of Evaluation":0}},{component:"Travel - Low",description:"Estimated travel time 30 min to 2 hours each way\n(Assumes in-person event for 1 night)",multiplier:1,hours:{PLF:3,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0},{component:"Travel - Mid",description:"Estimated travel time 2 to 6 hours each way",multiplier:1,hours:{PLF:8,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0},{component:"Travel - High",description:"Estimated travel time 6 to 10 hours each way",multiplier:1,hours:{PLF:16,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0}],"Profile of a Graduate":[{component:"DIY Kit",description:"Supporting materials and directions for delivery - flat fee, no additional services",multiplier:1,hours:{PLF:0,"Program Coordinator":0,"Director of Evaluation":0},flatFee:7500},{component:"1:1 Coaching",description:"10 hours of coaching in standard package \n (Prep ratio of 1.5/1)",multiplier:10,hours:{PLF:2.5,"Program Coordinator":0,"Director of Evaluation":0}},{component:"Co-facilitation of listening sessions",description:"In-person 1 facilitator \n Session length 90 min + set up/tear down (2.5 hours) \n Prep ratio 4/1 = 1.5x4= 6 hours + 1 for set up for a total of 8.5",multiplier:1,hours:{PLF:8.5,"Program Coordinator":0,"Director of Evaluation":0}},{component:"Profile of a learner Marketing and Design",description:"Draft + Final, branded to school/district \n Flat fee of 2500",multiplier:1,hours:{PLF:0,"Program Coordinator":0,"Director of Evaluation":0},flatFee:2500},{component:"Travel - Low",description:"Estimated travel time 30 min to 2 hours each way\n(Assumes in-person event for 1 night)",multiplier:1,hours:{PLF:3,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0},{component:"Travel - Mid",description:"Estimated travel time 2 to 6 hours each way",multiplier:1,hours:{PLF:8,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0},{component:"Travel - High",description:"Estimated travel time 6 to 10 hours each way",multiplier:1,hours:{PLF:16,"Program Coordinator":0,"Director of Evaluation":0},isTravel:!0}]};function o(e){return document.getElementById(e)}function r(e){const t=o(e);t&&t.classList&&t.classList.remove("hidden")}function a(e){const t=o(e);t&&t.classList&&t.classList.add("hidden")}function i(e,t=0){const r=o(e);return r&&parseFloat(r.value)||t}function n(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e)}let s=!1,l={airfare:0,lodging:0,transport:0,meals:0};function c(){let e=0;document.querySelectorAll(".program-section").forEach(t=>{let o=0;t.querySelectorAll("tbody tr").forEach(e=>{const t=e.querySelector(".cost-cell").textContent,r=parseFloat(t.replace(/[$,]/g,""));o+=r});const r=t.querySelector("#programTotal");r&&(r.textContent=n(o)),e+=o});const t=o("indirectRate"),r=o("markup"),a=t&&parseFloat(t.value)||0,i=r&&parseFloat(r.value)||0,s=o("airfare"),c=o("hotel"),u=o("transportation"),d=o("mealsPerDiem"),m=s?parseFloat(s.value)||0:l.airfare||0,p=c?parseFloat(c.value)||0:l.lodging||0,h=u?parseFloat(u.value)||0:l.transport||0,v=d?parseFloat(d.value)||0:l.meals||0,g=m+p+h+v,f=o("travelSummary");f&&(f.textContent=n(g));const y=o("airfareSummary"),P=o("hotelSummary"),C=o("transportSummary"),E=o("mealsSummary");y&&(y.textContent=n(m)),P&&(P.textContent=n(p)),C&&(C.textContent=n(h)),E&&(E.textContent=n(v));const L=e*(a/100),x=(e+L)*(i/100),F=e+L+x,T=F+g,D=o("baseCost"),w=o("indirectCost"),S=o("markupCost"),b=o("subtotal"),M=o("totalAmount");D&&(D.textContent=n(e)),w&&(w.textContent=n(L)),S&&(S.textContent=n(x)),b&&(b.textContent=n(F)),M&&(M.textContent=n(T))}function u(t){const i=o("programSelector");Object.keys(t).forEach(e=>{const t=document.createElement("option");t.value=e,t.textContent=e,i.appendChild(t)}),i.addEventListener("change",i=>{const l=i.target.value;l?(function(t,i){const l=o("programsContainer");l.innerHTML="",r("summaryPanel"),a("emptyState");const u=document.createElement("div");u.className="bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden program-section";const d=document.createElement("div");d.className="bg-slate-800 px-6 py-4",d.innerHTML=`<div class="flex justify-between items-center"><h3 class="text-lg font-semibold text-white">${t}</h3><div class="text-lg font-semibold text-white" id="programTotal">$0.00</div></div>`,u.appendChild(d);const m=document.createElement("table");m.className="w-full";const p=document.createElement("thead");p.className="bg-slate-50",p.innerHTML='<tr><th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Component</th><th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Staff</th><th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Quantity</th><th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Multiplier</th><th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Cost</th></tr>',m.appendChild(p);const h=document.createElement("tbody");h.className="bg-white divide-y divide-slate-200";const v=i[t];if(v.forEach((o,r)=>{h.appendChild(function(t,o,r){const a=document.createElement("tr");a.className="hover:bg-slate-50 transition-colors",t.isTravel&&a.classList.add("bg-blue-50");const i=document.createElement("td");i.className="px-6 py-4";const s=document.createElement("div");s.className="flex items-center gap-2";const l=document.createElement("div");if(l.className="text-sm font-medium text-slate-900",l.textContent=t.component,s.appendChild(l),t.description){const e=document.createElement("span");e.className="text-slate-400 hover:text-slate-600 cursor-help text-xs",e.innerHTML="ℹ️",e.title=t.description.replace(/\n/g," "),s.appendChild(e)}i.appendChild(s),a.appendChild(i);const u=document.createElement("td");u.className="px-6 py-4";const d=document.createElement("div");d.className="flex flex-wrap gap-1",Object.entries(t.hours).forEach(([e,t])=>{if(t>0){const t=document.createElement("span");t.className="inline-flex items-center px-2 py-1 rounded text-xs font-medium","PLF"===e?t.className+=" bg-primary-100 text-primary-800":"Program Coordinator"===e?t.className+=" bg-secondary-100 text-secondary-800":"Director of Evaluation"===e&&(t.className+=" bg-accent-100 text-accent-800"),t.textContent=e,d.appendChild(t)}}),u.appendChild(d),a.appendChild(u);const m=document.createElement("td");m.className="px-6 py-4";const p=document.createElement("input");p.type="number",p.className="quantity-input w-16 px-2 py-1 text-sm border border-slate-300 rounded focus:border-primary-500 focus:ring-1 focus:ring-primary-500",p.min="0",p.value=t.multiplier.toString(),p.dataset.program=o,p.dataset.component=r,m.appendChild(p),a.appendChild(m);const h=document.createElement("td");h.className="px-6 py-4";const v=document.createElement("input");v.type="number",v.className="multiplier-input w-16 px-2 py-1 text-sm border border-slate-300 rounded focus:border-primary-500 focus:ring-1 focus:ring-primary-500",v.min="0",v.step="1",v.value="1",t.evaluation&&(v.disabled=!0,v.title="Multiplier fixed for evaluation items",v.className+=" opacity-50 cursor-not-allowed"),h.appendChild(v),a.appendChild(h);const g=document.createElement("td");function f(){const o=parseFloat(p.value)||0,r=parseFloat(v.value)||1,a=function(t,o){if(0===o)return 0;if(void 0!==t.flatFee)return t.flatFee*o;let r=0;return Object.entries(t.hours).forEach(([t,a])=>{a>0&&(r+=a*e[t]*o)}),r}(t,o*r);g.textContent=n(a),c()}return g.className="px-6 py-4 cost-cell text-sm font-medium text-slate-900 text-right",a.appendChild(g),p.addEventListener("input",f),v.addEventListener("input",f),f(),a}(o,t,r))}),m.appendChild(h),u.appendChild(m),v.some(e=>e.isTravel)){const e=document.createElement("div");e.className="bg-amber-50 border-l-4 border-amber-400 p-4",e.innerHTML='<div class="flex"><div class="ml-3"><p class="text-sm text-amber-700"><strong>Note:</strong> Select only ONE travel level (Low, Mid, or High) based on your location.</p></div></div>',u.appendChild(e)}l.appendChild(u),s||function(){if(s)return;const e=o("indirectRate"),t=o("markup");e&&e.addEventListener("input",c),t&&t.addEventListener("input",c);const r=o("airfare"),a=o("hotel"),i=o("transportation"),n=o("mealsPerDiem");r&&r.addEventListener("input",c),a&&a.addEventListener("input",c),i&&i.addEventListener("input",c),n&&n.addEventListener("input",c),s=!0}(),c()}(l,t),r("selectedProgramContainer")):(a("selectedProgramContainer"),a("summaryPanel"),r("emptyState"))})}function d(){const e=o("instructionsContent"),t=o("instructionsIcon");e&&t&&(e.classList.contains("hidden")?(e.classList.remove("hidden"),t.classList.add("rotate-180")):(e.classList.add("hidden"),t.classList.remove("rotate-180")))}function m(){const e=o("travelInstructionsContent"),t=o("travelInstructionsIcon");e&&t&&(e.classList.contains("hidden")?(e.classList.remove("hidden"),t.classList.add("rotate-180")):(e.classList.add("hidden"),t.classList.remove("rotate-180")))}function p(){l.airfare=0,l.lodging=0,l.transport=0,l.meals=0,l.carMileage=0;const e=o("calculateTravelBtn");e&&(e.dataset.airfare="0",e.dataset.lodging="0",e.dataset.transport="0",e.dataset.perdiem="0",e.dataset.carMileage="0");const t=o("airfareSummary"),r=o("hotelSummary"),a=o("transportSummary"),i=o("mealsSummary"),s=o("travelSummary"),u=o("travelTotal"),d=o("travelAirfarePerTrip"),m=o("travelAirfare"),p=o("travelCarTotal");t&&(t.textContent=n(0)),r&&(r.textContent=n(0)),a&&(a.textContent=n(0)),i&&(i.textContent=n(0)),s&&(s.textContent=n(0)),u&&(u.textContent=n(0)),d&&(d.textContent=n(0)),m&&(m.value=""),p&&(p.value="0.00"),c()}let h=[],v={},g=100,f=100;function y(e){return e&&parseFloat(e.toString().replace(/[$,\s\"]/g,""))||0}function P(){const e=o("travelTo"),t=o("lodgingRegion");if(!e)return;const r=e.value;let a="all";t&&("SELECT"===t.tagName?a=t.value:"checkbox"===t.type&&(a=t.checked?"NYC/SF":"all"));let i=0;const n=h.find(e=>e.to===r&&e.lodging);n&&(i=n.lodging),i||(i="NYC/SF"===a&&v["NYC/SF"]?v["NYC/SF"]:v["All regions ex. NYC/SFO"]?v["All regions ex. NYC/SFO"]:v["NYC/SF"]?v["NYC/SF"]:275);const s=o("travelLodgingPerNight");s&&(s.value=i),C()}function C(){const e=o("travelAirfare"),t=o("travelAirfarePerTrip");if(!t)return;let r=0;if(e&&e.value)r=parseFloat(e.value)||0;else{const t=o("travelFrom"),a=o("travelTo");if(t&&a){const o=t.value,i=a.value,n=h.find(e=>e.from===o&&e.to===i);r=n?n.amount:0,e&&!e.value&&(e.value=r>0?r.toFixed(2):"")}}t.textContent=n(r)}function E(){const e=o("travelFrom"),t=o("travelTo"),r=o("travelPerDiem"),a=o("travelTrips"),i=o("travelDays"),s=o("travelPLFs"),l=o("travelLodgingPerNight"),c=o("travelGroundPerDay"),u=o("travelCarMiles"),d=o("travelCarRate"),m=o("travelCarTotal"),p=o("travelAirfare");if(!e||!t)return;const v=e.value,g=t.value,f=parseFloat(r?.value)||0,y=parseInt(a?.value)||1,P=parseInt(i?.value)||0,C=parseInt(s?.value)||0,E=parseFloat(l?.value)||0,L=parseFloat(c?.value)||0,x=parseFloat(u?.value)||0,F=parseFloat(d?.value)||.7,T=h.find(e=>e.from===v&&e.to===g),D=T?T.amount:0,w=p&&p.value?parseFloat(p.value):D,S=w*y*C,b=f*(P+1)*y*C,M=E*P*y*C,A=L*P*y*C,N=x*F*y*C,I=S+b+M+A+N;m&&(m.value=N.toFixed(2));const k=o("travelTotal");k&&(k.textContent=n(I));const O=o("calculateTravelBtn");O&&(O.dataset.airfare=S.toFixed(2),O.dataset.lodging=M.toFixed(2),O.dataset.transport=A.toFixed(2),O.dataset.perdiem=b.toFixed(2),O.dataset.carMileage=N.toFixed(2));const H=o("travelAirfarePerTrip");H&&(H.textContent=n(w))}document.addEventListener("DOMContentLoaded",async()=>{u(t),await async function(){try{const e=await fetch("Test - Interim Program Pricing to scale - Travel Pricing.csv"),t=(await e.text()).split(/\r?\n/).map(e=>e.trim());let r="";for(let e=0;e<t.length;e++){const o=t[e].split(",").map(e=>e.replace(/^\"|\"$/g,"").trim());if(t[e])if(/^Airfare/i.test(o[0]))r="airfare";else if(/^Hotels & Lodging/i.test(t[e]))r="hotels";else if(/^Meals & Incidentals/i.test(t[e]))r="meals";else if(/^Transportation/i.test(t[e]))r="transport";else if("airfare"===r){if(o[0]&&void 0!==o[1]&&void 0!==o[2]){const e=o[0],t=o[1],r=y(o[2]),a=y(o[3]);h.push({from:e,to:t,amount:r,lodging:a})}}else if("hotels"===r){const e=o[0],t=y(o[2]);e&&(v[e]=t)}else if("meals"===r){const e=y(o[2]||o[1]||o[0]);e&&(g=e)}else if("transport"===r){const e=y(o[2]||o[1]||o[0]);e&&(f=e)}}!function(){const e=new Set,t=new Set;h.forEach(o=>{o.from&&e.add(o.from),o.to&&t.add(o.to)});const r=o("travelFrom"),a=o("travelTo");r&&(r.innerHTML=""),a&&(a.innerHTML=""),Array.from(e).forEach(e=>{const t=document.createElement("option");t.value=e,t.textContent=e,r&&r.appendChild(t)}),Array.from(t).forEach(e=>{const t=document.createElement("option");t.value=e,t.textContent=e,a&&a.appendChild(t)}),r&&r.options.length&&(r.selectedIndex=0),a&&a.options.length&&(a.selectedIndex=0);const i=o("travelPerDiem"),n=o("travelGroundPerDay");i&&(i.value=g),n&&(n.value=f),C(),E()}()}catch(e){console.error("Failed to load travel CSV",e)}}();const e=document.getElementById("exportBtn");e&&e.addEventListener("click",()=>function(){if(!function(e,t=""){const r=o("programSelector");return r?r.value:t}())return void alert("Please select a program first");let e="PRICING ESTIMATE\n\nGenerated on: "+(new Date).toLocaleDateString()+"\n\n";const t=document.querySelector(".program-section"),r=t&&t.querySelector("h3")?.textContent||"Program";e+=r+"\n"+"=".repeat(60)+"\n",t.querySelectorAll("tbody tr").forEach(t=>{const o=t.querySelector(".quantity-input"),r=t.querySelector(".multiplier-input"),a=parseFloat(o?.value)||0,i=parseFloat(r?.value)||1;if(a>0){const o=t.querySelector("td:first-child div:first-child").textContent,r=t.querySelector(".cost-cell").textContent;e+=o+" (Qty: "+a+" × "+i+"): "+r+"\n"}}),e+="\n"+"=".repeat(60)+"\nBase Cost: "+(o("baseCost")?.textContent||"$0.00")+"\n";const a=(i("airfare",l.airfare||0)||l.airfare||0)+(i("hotel",l.lodging||0)||l.lodging||0)+(i("transportation",l.transport||0)||l.transport||0)+(i("mealsPerDiem",l.meals||0)||l.meals||0);e+="Additional Costs: $"+a.toFixed(2)+"\n",e+="GRAND TOTAL: "+(o("totalAmount")?.textContent||"$0.00")+"\n";const n=new Blob([e],{type:"text/plain"}),s=URL.createObjectURL(n),c=document.createElement("a");c.href=s,c.download="pricing-estimate-"+(new Date).toISOString().split("T")[0]+".txt",document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(s)}());const r=document.getElementById("instructionsBtn");r&&r.addEventListener("click",d);const a=document.getElementById("travelInstructionsToggle");a&&a.addEventListener("click",m);const s=document.getElementById("calculateTravelBtn");s&&s.addEventListener("click",E);const L=document.getElementById("applyTravelBtn");L&&L.addEventListener("click",()=>function(e){console.log("applyTravelToSummary called with appliedTravel:",e);const t=o("calculateTravelBtn"),r=parseFloat(t?.dataset.airfare)||0,a=parseFloat(t?.dataset.lodging)||0,i=parseFloat(t?.dataset.transport)||0,s=parseFloat(t?.dataset.perdiem)||0,l=parseFloat(t?.dataset.carMileage)||0;e.airfare=r,e.lodging=a,e.transport=i,e.meals=s,e.carMileage=l;const u=o("airfareSummary"),d=o("hotelSummary"),m=o("transportSummary"),p=o("mealsSummary"),h=o("carMileageSummary"),v=o("travelSummary");u&&(u.textContent=n(r)),d&&(d.textContent=n(a)),m&&(m.textContent=n(i)),p&&(p.textContent=n(s)),h&&(h.textContent=n(l)),v&&(v.textContent=n(r+a+i+s+l)),c()}(l));const x=document.getElementById("clearTravelBtn");x&&x.addEventListener("click",p);const F=document.getElementById("travelTo"),T=document.getElementById("travelFrom"),D=document.getElementById("travelAirfare"),w=document.getElementById("lodgingRegion");F&&F.addEventListener("change",P),T&&T.addEventListener("change",()=>{P(),C()}),D&&(D.addEventListener("change",C),D.addEventListener("input",C)),w&&w.addEventListener("change",()=>{P(),E()})})})();
//# sourceMappingURL=bundle.js.map